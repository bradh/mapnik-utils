#labels Featured,Phase-Deploy
== Nik2img.py ==

A command line utility to take a cascadenik mml or mapnik xml file as input and output an image.

 * Mirrors and extends the usefulness of the Mapserver [http://mapserver.gis.umn.edu/docs/reference/utilityreference/shp2img shp2img] utility, but for use with Mapnik.


=== Installation ===

To run this program:
 * Make sure you have Mapnik installed
 * Then install manually or using easy_install

To Install manually:
 * Download the [http://mapnik-utils.googlecode.com/svn/tags/nik2img/ latest tagged release] or [http://mapnik-utils.googlecode.com/svn/trunk/nik2img/ from SVN trunk]
 * Then do:
{{{
$ tar xvf nik2img-*.tar.gz # * denotes the release number
$ cd nik2img-*
$ sudo python setup.py install
}}}
 * This will place nik2img.py in `/usr/local/bin` and as a python module in `site-packages`

To Install the latest release with [http://peak.telecommunity.com/DevCenter/EasyInstall easy_install] do:
{{{
$ sudo easy_install -U nik2img
}}}


Test Installation of module:
{{{
$ python
>>> from nik2img import Map # should prompt no error
>>> m = Map('/path/to/mapfile.xml')
>>> m.test() # should confirm path to mapfile
}}}

Test Installation of command-line script:
{{{
$ nik2img.py # should be able to tab complete...
$ which nik2img.py # should show install location
$ nik2img.py -h # should display usage
}}}

To run the full test suite for nik2img:
 * This will test the generation and automatic opening (except on linux) of a variety of map graphics

{{{
$ svn co http://mapnik-utils.googlecode.com/svn/trunk/nik2img/ nik2img-svn
$ cd nik2img-svn
$ sudo python tests/tests.py
}}}


=== Usage Examples ===

 * For more examples see: http://trac.mapnik.org/wiki/Nik2Img

Output an 8-bit png image:
{{{
$ nik2img.py mapfile.xml map.png -f png256
}}}

Loop through verbosely outputting all possible image formats and a custom tile size:
{{{
$ nik2img.py mapfile.xml maps/ -f all -d 256 256  -v
}}}

General all image formats within a folder in spherical mercator projection with custom bbox in projected coordinates:
{{{
$ nik2img.py mapfile.xml maps/ -f all --srs epsg:900913 -e 1003750 -1706377 10037508 2810502
}}}